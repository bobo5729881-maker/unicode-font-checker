<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>Unicode å­—å‹é¡¯ç¤ºæª¢æŸ¥å™¨</title>

<!-- LINE é¢¨æ ¼ -->
<style>
  :root {
    --line-green: #06C755;
    --bg: #f5f7f9;
    --card: #ffffff;
    --accent: #00a9ff;
    --shadow: 0 6px 18px rgba(0,0,0,0.08);
  }

  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "PingFang TC",
      "Microsoft JhengHei", "Noto Sans CJK TC", sans-serif;
    background: var(--bg);
  }

  header {
    background: var(--line-green);
    color: white;
    padding: 20px;
    font-size: 20px;
    font-weight: bold;
  }

  .container {
    max-width: 900px;
    margin: auto;
    padding: 20px;
  }

  .card {
    background: var(--card);
    border-radius: 16px;
    padding: 20px;
    box-shadow: var(--shadow);
    margin-bottom: 24px;
  }

  h2 {
    margin-top: 0;
    color: #333;
  }

  input[type="file"],
  input[type="text"] {
    width: 100%;
    padding: 12px;
    border-radius: 12px;
    border: 1px solid #ddd;
    font-size: 16px;
  }

  button {
    background: var(--line-green);
    color: white;
    border: none;
    padding: 12px 18px;
    border-radius: 14px;
    font-size: 16px;
    cursor: pointer;
    margin-top: 12px;
  }

  button:hover {
    opacity: 0.9;
  }

  .results {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 16px;
    margin-top: 16px;
  }

  .char-card {
    background: #f0fff5;
    border-radius: 14px;
    padding: 12px;
    text-align: center;
    cursor: pointer;
    box-shadow: var(--shadow);
  }

  .char-card:hover {
    background: #e3ffef;
  }

  .char {
    font-size: 32px;
    margin-bottom: 8px;
  }

  .fonts {
    font-size: 12px;
    color: #555;
  }

  footer {
    text-align: center;
    color: #888;
    font-size: 12px;
    margin: 20px 0;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
</head>

<body>
<header>Unicode å­—å‹é¡¯ç¤ºæª¢æŸ¥å™¨</header>

<div class="container">

  <!-- åœ–ç‰‡ OCR -->
  <div class="card">
    <h2>ğŸ“· ä¸Šå‚³å­—çš„æˆªåœ–ï¼ˆOCR è¾¨è­˜ï¼‰</h2>
    <input type="file" id="imageInput" accept="image/*">
    <button onclick="runOCR()">é–‹å§‹è¾¨è­˜</button>
    <div id="ocrStatus"></div>
    <div id="ocrResults" class="results"></div>
  </div>

  <!-- è²¼å­— -->
  <div class="card">
    <h2>ğŸ”¤ è²¼ä¸Šç„¡æ³•é¡¯ç¤ºçš„å­—</h2>
    <input type="text" id="charInput" placeholder="ä¾‹å¦‚ï¼šâ–¡ æˆ– ğ¢š">
    <button onclick="handleCharInput()">é¡¯ç¤ºå­—å‹</button>
    <div id="charResults" class="results"></div>
  </div>

</div>

<footer>
  ç´”å‰ç«¯ Â· GitHub Pages å¯ç”¨ Â· Unicode / å­—å‹æª¢æŸ¥å·¥å…·
</footer>

<script>
const fontList = [
  "PingFang TC",
  "Microsoft JhengHei",
  "Noto Sans CJK TC",
  "HanaMinA",
  "SimSun",
  "Arial Unicode MS",
  "sans-serif"
];

function copyChar(c) {
  navigator.clipboard.writeText(c);
  alert("å·²è¤‡è£½ï¼š" + c);
}

function renderCandidates(chars, containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = "";
  chars.slice(0,10).forEach(c => {
    const div = document.createElement("div");
    div.className = "char-card";
    div.onclick = () => copyChar(c);

    const charDiv = document.createElement("div");
    charDiv.className = "char";
    charDiv.textContent = c;
    charDiv.style.fontFamily = fontList.join(",");

    const info = document.createElement("div");
    info.className = "fonts";
    info.textContent = "U+" + c.codePointAt(0).toString(16).toUpperCase();

    div.appendChild(charDiv);
    div.appendChild(info);
    container.appendChild(div);
  });
}

function handleCharInput() {
  const val = document.getElementById("charInput").value;
  if (!val) return;
  renderCandidates([val], "charResults");
}

async function runOCR() {
  const file = document.getElementById("imageInput").files[0];
  if (!file) return;

  document.getElementById("ocrStatus").textContent = "OCR è¾¨è­˜ä¸­â€¦";

  const result = await Tesseract.recognize(file, "chi_tra");
  const text = result.data.text.replace(/\s/g,"");

  document.getElementById("ocrStatus").textContent =
    "OCR å˜—è©¦çµæœï¼š" + text;

  // ç”¢ç”Ÿå€™é¸ï¼ˆç°¡åŒ–ç¤ºä¾‹ï¼‰
  const candidates = [];
  for (let i = 0x4E00; i < 0x4E00 + 50; i++) {
    candidates.push(String.fromCodePoint(i));
  }
  renderCandidates(candidates, "ocrResults");
}
</script>
</body>
</html>
